# ============================================================================
# OPENAGENTICWORK - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and configure your settings
#
# Quick start:
#   cp .env.example .env
#   # Edit the values below
#   docker compose up -d
#
# Minimum required: Configure at least one LLM provider in Section 2
# ============================================================================

# ############################################################################
# SECTION 1: CORE INFRASTRUCTURE (Required)
# ############################################################################

# ---------------------------------------------------------------------------
# 1.1 APPLICATION SETTINGS
# ---------------------------------------------------------------------------
NODE_ENV=development
LOG_LEVEL=info

# ---------------------------------------------------------------------------
# 1.2 POSTGRESQL DATABASE
# ---------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=agenticwork
POSTGRES_PASSWORD=changeme-use-strong-password
POSTGRES_DB=agenticwork
DATABASE_URL=postgresql://agenticwork:changeme-use-strong-password@postgres:5432/agenticwork

# ---------------------------------------------------------------------------
# 1.3 REDIS CACHE
# ---------------------------------------------------------------------------
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379

# ---------------------------------------------------------------------------
# 1.4 SECURITY SECRETS (Change these in production!)
# ---------------------------------------------------------------------------
# Must be at least 32 characters for security
JWT_SECRET=change-this-jwt-secret-must-be-at-least-32-characters-long
JWT_EXPIRY=24h
SIGNING_SECRET=change-this-signing-secret-must-be-at-least-32-chars
API_SECRET_KEY=change-this-api-secret-key
FRONTEND_SECRET=change-this-frontend-secret-key-min-32-chars
API_INTERNAL_KEY=internal-api-key-for-service-communication
CODE_MANAGER_INTERNAL_KEY=code-manager-internal-key-change-this

# ############################################################################
# SECTION 2: LLM PROVIDERS (Configure at least one)
# ############################################################################
# You can also configure providers via the Admin Portal after startup

# ---------------------------------------------------------------------------
# 2.1 AWS BEDROCK (Recommended - Claude models)
# ---------------------------------------------------------------------------
# AWS_BEDROCK_ENABLED=true
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_BEDROCK_MODEL_ID=us.anthropic.claude-sonnet-4-5-20250929-v1:0

# ---------------------------------------------------------------------------
# 2.2 ANTHROPIC (Direct API)
# ---------------------------------------------------------------------------
# ANTHROPIC_ENABLED=true
# ANTHROPIC_API_KEY=your-anthropic-api-key
# ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# ---------------------------------------------------------------------------
# 2.3 OPENAI
# ---------------------------------------------------------------------------
# OPENAI_ENABLED=true
# OPENAI_API_KEY=your-openai-api-key
# OPENAI_MODEL=gpt-4o

# ---------------------------------------------------------------------------
# 2.4 AZURE OPENAI
# ---------------------------------------------------------------------------
# AZURE_OPENAI_ENABLED=true
# AZURE_OPENAI_API_KEY=your-azure-openai-key
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_API_VERSION=2024-12-01-preview
# AZURE_OPENAI_DEPLOYMENT=your-deployment-name

# ---------------------------------------------------------------------------
# 2.5 GOOGLE VERTEX AI (Gemini)
# ---------------------------------------------------------------------------
# VERTEX_AI_ENABLED=true
# GCP_PROJECT_ID=your-gcp-project-id
# VERTEX_AI_LOCATION=us-central1
# VERTEX_AI_MODEL=gemini-2.5-flash
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# ---------------------------------------------------------------------------
# 2.6 OLLAMA (Local models)
# ---------------------------------------------------------------------------
# OLLAMA_ENABLED=true
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_CHAT_MODEL=llama3

# ############################################################################
# SECTION 3: EMBEDDING CONFIGURATION
# ############################################################################

EMBEDDING_ENABLED=true
EMBEDDING_PROVIDER=bedrock
EMBEDDING_MODEL=amazon.titan-embed-text-v2:0
EMBEDDING_DIMENSIONS=1024

# Alternative: OpenAI embeddings
# EMBEDDING_PROVIDER=openai
# EMBEDDING_MODEL=text-embedding-3-small

# ############################################################################
# SECTION 4: VECTOR DATABASE (Milvus)
# ############################################################################

MILVUS_HOST=milvus
MILVUS_PORT=19530
MILVUS_ADDRESS=milvus:19530

# ############################################################################
# SECTION 5: OBJECT STORAGE (MinIO)
# ############################################################################

MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=agenticwork-uploads

# ############################################################################
# SECTION 6: FEATURE FLAGS
# ############################################################################

ENABLE_MCP=true
ENABLE_VECTOR_SEARCH=true
ENABLE_FILE_UPLOADS=true
ENABLE_METRICS=true
ENABLE_RAG=true
ENABLE_MEMORY=true
AGENTICODE_ENABLED=true
ENABLE_INTELLIGENCE_SLIDER=true

# ############################################################################
# SECTION 7: AUTHENTICATION (Optional)
# ############################################################################

# Development mode allows local username/password login
AUTH_MODE=development
ENABLE_DEV_AUTH_BYPASS=false

# Default admin user (created on first startup)
ADMIN_USER_EMAIL=admin@localhost
ADMIN_USER_PASSWORD=changeme

# ---------------------------------------------------------------------------
# Azure AD SSO (Optional)
# ---------------------------------------------------------------------------
# ENABLE_AZURE_AD=true
# AZURE_CLIENT_ID=your-azure-client-id
# AZURE_CLIENT_SECRET=your-azure-client-secret
# AZURE_TENANT_ID=your-azure-tenant-id
# AZURE_REDIRECT_URI=http://localhost:3000/auth/callback

# ---------------------------------------------------------------------------
# Google SSO (Optional)
# ---------------------------------------------------------------------------
# ENABLE_GOOGLE_AUTH=true
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# ############################################################################
# SECTION 8: APPLICATION URLS
# ############################################################################

API_PORT=8000
UI_PORT=3000
API_URL=http://localhost:8000
UI_URL=http://localhost:3000
PUBLIC_URL=http://localhost:3000

# ############################################################################
# SECTION 9: MCP CONFIGURATION
# ############################################################################

# Enabled MCPs
ADMIN_MCP_DISABLED=false
FETCH_MCP_DISABLED=false

# Disabled MCPs (enable as needed)
FLOWISE_MCP_DISABLED=true
AWP_AWS_MCP_DISABLED=true
AWP_GCP_MCP_DISABLED=true
AZURE_COST_MCP_DISABLED=true
VMWARE_MCP_DISABLED=true
PROMETHEUS_MCP_DISABLED=true

# ############################################################################
# SECTION 10: IMAGE GENERATION (Optional)
# ############################################################################

# IMAGE_GEN_ENABLED=true
# IMAGE_GEN_PROVIDER=bedrock
# IMAGE_GEN_MODEL=stability.stable-image-core-v1:1
